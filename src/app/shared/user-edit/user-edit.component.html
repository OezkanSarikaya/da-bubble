<section>
  @if(showSelectAvatars){
  <form class="card" #formEditUser="ngForm" (ngSubmit)="onSubmitEdit(formEditUser)" [ngClass]="{'gap-errors': !email.valid && email.touched && !email.disabled && !fullName.valid && !fullName.disabled && fullName.touched}">
    <div class="card-header">
      <span>Dein Profil bearbeiten</span>
      <div class="container-close" (click)="triggerUserProfilePopUp($event)">
        <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <mask id="mask0_79092_694" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
          <rect width="24" height="24" fill="#D9D9D9"/>
          </mask>
          <g mask="url(#mask0_79092_694)">
          <path d="M12 13.4L7.10005 18.3C6.91672 18.4833 6.68338 18.575 6.40005 18.575C6.11672 18.575 5.88338 18.4833 5.70005 18.3C5.51672 18.1167 5.42505 17.8833 5.42505 17.6C5.42505 17.3167 5.51672 17.0833 5.70005 16.9L10.6 12L5.70005 7.09999C5.51672 6.91665 5.42505 6.68332 5.42505 6.39999C5.42505 6.11665 5.51672 5.88332 5.70005 5.69999C5.88338 5.51665 6.11672 5.42499 6.40005 5.42499C6.68338 5.42499 6.91672 5.51665 7.10005 5.69999L12 10.6L16.9 5.69999C17.0834 5.51665 17.3167 5.42499 17.6 5.42499C17.8834 5.42499 18.1167 5.51665 18.3 5.69999C18.4834 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4834 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4834 17.0833 18.575 17.3167 18.575 17.6C18.575 17.8833 18.4834 18.1167 18.3 18.3C18.1167 18.4833 17.8834 18.575 17.6 18.575C17.3167 18.575 17.0834 18.4833 16.9 18.3L12 13.4Z"/>
          </g>
        </svg>
      </div>
    </div>
      <div class="container-avatar-selected">
      <img class="avatar-selected" [src]="currentUser.avatar" alt="default avatar">
    </div>
    <div>
      <button class="btn" type="button" (click)="triggerShowHideSelectAvatars()">select avatar</button>
    </div>
    <div class="container-name-active">
      <div class="container-input-edit">
        <div class="container-edit-text">
          <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0_79092_9116" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="30" height="30">
            <rect width="30" height="30" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_79092_9116)">
            <path d="M7.3125 21.375C8.375 20.5625 9.5625 19.9217 10.875 19.4525C12.1875 18.9842 13.5625 18.75 15 18.75C16.4375 18.75 17.8125 18.9842 19.125 19.4525C20.4375 19.9217 21.625 20.5625 22.6875 21.375C23.4167 20.5208 23.9846 19.5521 24.3913 18.4688C24.7971 17.3854 25 16.2292 25 15C25 12.2292 24.0263 9.86958 22.0788 7.92125C20.1304 5.97375 17.7708 5 15 5C12.2292 5 9.87 5.97375 7.9225 7.92125C5.97417 9.86958 5 12.2292 5 15C5 16.2292 5.20333 17.3854 5.61 18.4688C6.01583 19.5521 6.58333 20.5208 7.3125 21.375ZM15 16.25C13.7708 16.25 12.7342 15.8283 11.89 14.985C11.0467 14.1408 10.625 13.1042 10.625 11.875C10.625 10.6458 11.0467 9.60917 11.89 8.765C12.7342 7.92167 13.7708 7.5 15 7.5C16.2292 7.5 17.2658 7.92167 18.11 8.765C18.9533 9.60917 19.375 10.6458 19.375 11.875C19.375 13.1042 18.9533 14.1408 18.11 14.985C17.2658 15.8283 16.2292 16.25 15 16.25ZM15 27.5C13.2708 27.5 11.6458 27.1717 10.125 26.515C8.60417 25.8592 7.28125 24.9688 6.15625 23.8438C5.03125 22.7188 4.14083 21.3958 3.485 19.875C2.82833 18.3542 2.5 16.7292 2.5 15C2.5 13.2708 2.82833 11.6458 3.485 10.125C4.14083 8.60417 5.03125 7.28125 6.15625 6.15625C7.28125 5.03125 8.60417 4.14042 10.125 3.48375C11.6458 2.82792 13.2708 2.5 15 2.5C16.7292 2.5 18.3542 2.82792 19.875 3.48375C21.3958 4.14042 22.7188 5.03125 23.8438 6.15625C24.9688 7.28125 25.8592 8.60417 26.515 10.125C27.1717 11.6458 27.5 13.2708 27.5 15C27.5 16.7292 27.1717 18.3542 26.515 19.875C25.8592 21.3958 24.9688 22.7188 23.8438 23.8438C22.7188 24.9688 21.3958 25.8592 19.875 26.515C18.3542 27.1717 16.7292 27.5 15 27.5ZM15 25C16.1042 25 17.1458 24.8388 18.125 24.5163C19.1042 24.1929 20 23.7292 20.8125 23.125C20 22.5208 19.1042 22.0571 18.125 21.7337C17.1458 21.4112 16.1042 21.25 15 21.25C13.8958 21.25 12.8542 21.4112 11.875 21.7337C10.8958 22.0571 10 22.5208 9.1875 23.125C10 23.7292 10.8958 24.1929 11.875 24.5163C12.8542 24.8388 13.8958 25 15 25ZM15 13.75C15.5417 13.75 15.9896 13.5729 16.3438 13.2188C16.6979 12.8646 16.875 12.4167 16.875 11.875C16.875 11.3333 16.6979 10.8854 16.3438 10.5312C15.9896 10.1771 15.5417 10 15 10C14.4583 10 14.0104 10.1771 13.6562 10.5312C13.3021 10.8854 13.125 11.3333 13.125 11.875C13.125 12.4167 13.3021 12.8646 13.6562 13.2188C14.0104 13.5729 14.4583 13.75 15 13.75Z" fill="black"/>
            </g>
          </svg>
          <p class="text-user-edit">Vollständiger Name</p>
        </div>
        <div class="container-input">
          <input class="email-edit" type="email" #fullName="ngModel" name="fullName" placeholder="Max Mustermann" [ngModel]="currentUser.fullName" required minlength="2">
        </div>
        @if(!fullName.valid && !fullName.disabled && fullName.touched){
          <div class="error">*Der Name muss mindestens aus 2 Buchstaben bestehen.</div>
        }
      </div>
      <div class="container-input-edit">
        <div class="container-edit-text">
          <svg width="30" height="30" viewBox="0 0 30 30" fill="none" xmlns="http://www.w3.org/2000/svg">
            <mask id="mask0_79092_726" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="30" height="30">
            <rect width="30" height="30" fill="#D9D9D9"/>
            </mask>
            <g mask="url(#mask0_79092_726)">
            <path d="M5 25C4.3125 25 3.72417 24.7554 3.235 24.2663C2.745 23.7763 2.5 23.1875 2.5 22.5V7.5C2.5 6.8125 2.745 6.22417 3.235 5.735C3.72417 5.245 4.3125 5 5 5H25C25.6875 5 26.2763 5.245 26.7663 5.735C27.2554 6.22417 27.5 6.8125 27.5 7.5V22.5C27.5 23.1875 27.2554 23.7763 26.7663 24.2663C26.2763 24.7554 25.6875 25 25 25H5ZM25 10L15.6562 15.8438C15.5521 15.9062 15.4425 15.9529 15.3275 15.9837C15.2133 16.0154 15.1042 16.0312 15 16.0312C14.8958 16.0312 14.7867 16.0154 14.6725 15.9837C14.5575 15.9529 14.4479 15.9062 14.3438 15.8438L5 10V22.5H25V10ZM15 13.75L25 7.5H5L15 13.75ZM5 10.3125V8.46875V8.5V8.48375V10.3125Z" fill="black"/>
            </g>
          </svg>
          <p class="text-user-edit">E-Mail-Adresse</p>
        </div>
        <div class="container-input">
          <input class="email-edit" type="email" name="email" placeholder="example@email.com" [ngModel]="currentUser.email" #email="ngModel" required pattern="[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}">
        </div>
        @if(!email.valid && !email.disabled && email.touched){
          <div class="error">*Diese E-Mail E-Mail-Adresse ist leider ungültig.</div>
        }
      </div>
    </div>
    <div class="container-buttons">
      <button class="btn-no-color" type="button" (click)="triggerUserProfilePopUp($event)">Abbrechen</button>
      <button class="btn" type="submit">Speichern</button>
    </div>
  </form>
  }@else {
    <div class="container-close" (click)="triggerShowHideSelectAvatars()">
      <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <mask id="mask0_79092_694" style="mask-type:alpha" maskUnits="userSpaceOnUse" x="0" y="0" width="24" height="24">
        <rect width="24" height="24" fill="#D9D9D9"/>
        </mask>
        <g mask="url(#mask0_79092_694)">
        <path d="M12 13.4L7.10005 18.3C6.91672 18.4833 6.68338 18.575 6.40005 18.575C6.11672 18.575 5.88338 18.4833 5.70005 18.3C5.51672 18.1167 5.42505 17.8833 5.42505 17.6C5.42505 17.3167 5.51672 17.0833 5.70005 16.9L10.6 12L5.70005 7.09999C5.51672 6.91665 5.42505 6.68332 5.42505 6.39999C5.42505 6.11665 5.51672 5.88332 5.70005 5.69999C5.88338 5.51665 6.11672 5.42499 6.40005 5.42499C6.68338 5.42499 6.91672 5.51665 7.10005 5.69999L12 10.6L16.9 5.69999C17.0834 5.51665 17.3167 5.42499 17.6 5.42499C17.8834 5.42499 18.1167 5.51665 18.3 5.69999C18.4834 5.88332 18.575 6.11665 18.575 6.39999C18.575 6.68332 18.4834 6.91665 18.3 7.09999L13.4 12L18.3 16.9C18.4834 17.0833 18.575 17.3167 18.575 17.6C18.575 17.8833 18.4834 18.1167 18.3 18.3C18.1167 18.4833 17.8834 18.575 17.6 18.575C17.3167 18.575 17.0834 18.4833 16.9 18.3L12 13.4Z"/>
        </g>
      </svg>
    </div>
    <div class="container-avatar-selected mt-24">
      <img class="avatar-selected" [src]="personAvatar" alt="default avatar">
    </div>
    <div class="container-all-avatars">
      @for (profile of avatars; track $index) {
        <img class="avatar-pathern" [src]="profile" alt="profile1" (click)="selectAvatar(profile)">
      }
    </div>
    <div class="container-file-photo">
      <p class="text-choose-avatar-small">eigenes Bild verwenden</p>
      <input type="file" class="file-input" #fileInput (change)="selectImage($event)">
      <button type="button" class="btn" (click)="openFile()">Datei hochladen</button>
    </div>
    <div>
      <button class="btn" (click)="savingImgAvatar()">Hochladen</button>
    </div>

  }
</section>
